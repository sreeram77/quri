!function(a){"use strict";a.ajaxChimp={responses:{"We have sent you a confirmation email":0,"Please enter a value":1,"An email address must contain a single @":2,"The domain portion of the email address is invalid (the portion after the @: )":3,"The username portion of the email address is invalid (the portion before the @: )":4,"This email address looks fake or invalid. Please enter a real email address":5},translations:{en:null},init:function(e,s){a(e).ajaxChimp(s)}},a.fn.ajaxChimp=function(e){return a(this).each(function(s,n){var i=a(n),t=i.find("input[type=email]"),r=i.find('input[id*="mc-name"]'),l=i.find('textarea[id*="mc-message"]'),o=i.find("label[for="+t.attr("id")+"]"),m=a.extend({url:i.attr("action"),language:"en"},e),u=m.url.replace("/post?","/post-json?").concat("&c=?");i.attr("novalidate","true"),t.attr("name","EMAIL"),r.attr("name","NAME"),l.attr("name","MESSAGE"),i.submit(function(){function e(e){if("success"===e.result)s="We have sent you a confirmation email",o.removeClass("error").addClass("valid"),t.removeClass("error").addClass("valid");else{t.removeClass("valid").addClass("error"),o.removeClass("valid").addClass("error");var n=-1;try{var i=e.msg.split(" - ",2);if(void 0===i[1])s=e.msg;else{var r=parseInt(i[0],10);r.toString()===i[0]?(n=i[0],s=i[1]):(n=-1,s=e.msg)}}catch(l){n=-1,s=e.msg}}"en"!==m.language&&void 0!==a.ajaxChimp.responses[s]&&a.ajaxChimp.translations&&a.ajaxChimp.translations[m.language]&&a.ajaxChimp.translations[m.language][a.ajaxChimp.responses[s]]&&(s=a.ajaxChimp.translations[m.language][a.ajaxChimp.responses[s]]),o.html(s),o.show(2e3),m.callback&&m.callback(e)}var s,n={},r=i.serializeArray();a.each(r,function(a,e){n[e.name]=e.value}),console.log(n),a.ajax({url:u,data:n,success:e,dataType:"jsonp",error:function(a,e){console.log("mailchimp ajax submit error: "+e),console.log(n)}});var l="Submitting...";return"en"!==m.language&&a.ajaxChimp.translations&&a.ajaxChimp.translations[m.language]&&a.ajaxChimp.translations[m.language].submit&&(l=a.ajaxChimp.translations[m.language].submit),o.html(l).show(2e3),!1})}),this}}(jQuery);